# v1_namespace.yml
---
examples:

  - create:
      name: acmeco
      state: present
      labels:
        foo: bar
        bar: bazz
      annotations:
        key1: value1
        key2: value2
    name: Create namespace
    assertions:
      - k8sobj.kind == 'Namespace'
      - k8sobj.api_version == 'v1'
      - k8sobj.metadata.name == 'acmeco'
      - k8sobj.metadata.labels.get('foo') == 'bar'
      - k8sobj.metadata.labels.get('bar') == 'bazz'
      - k8sobj.metadata.annotations.get('key1') == 'value1'
      - k8sobj.metadata.annotations.get('key2') == 'value2'

  - patch:
      name: acmeco
      labels:
        pony: tiger
      annotations:
        bees: knees
    name: Add labels and annotations to existing namespace
    assertions:
      - k8sobj.metadata.name == 'acmeco'
      - k8sobj.metadata.labels.get('foo') == 'bar'
      - k8sobj.metadata.labels.get('bar') == 'bazz'
      - k8sobj.metadata.labels.get('pony') == 'tiger'
      - len(k8sobj.metadata.labels.keys()) == 3
      - k8sobj.metadata.annotations.get('key1') == 'value1'
      - k8sobj.metadata.annotations.get('key2') == 'value2'
      - k8sobj.metadata.annotations.get('bees') == 'knees'
      - len(k8sobj.metadata.annotations.keys()) >= 2
